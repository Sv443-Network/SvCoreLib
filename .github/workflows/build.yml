name: build

on:
  push:
    branches: [master]
  pull_request:
    branches: [master]

jobs:
  build:
    runs-on: ubuntu-latest

    timeout-minutes: 10

    strategy:
      fail-fast: false
      matrix:
        node-version: [18.x]
    env:
      CI: "true"

    steps:
      - uses: actions/checkout@v3 # checkout latest commit
      - name: Use Node.js ${{ matrix.node-version }} # set up Node.js
        uses: actions/setup-node@v3
        with:
          node-version: ${{ matrix.node-version }}
      - name: Install Dependencies # runs the npm install command to install all dependencies
        run: npm i
      - name: Install ESLint # installs ESLint - idk why it doesn't pull this out of the devDependencies but whatever
        run: npm i -g eslint
      - name: Build library
        run: npm run build
    # - name: Run Unit Tests # runs all unit tests
    #   run: npm test
    #   env:
    #     CI: "true"
    # - name: Upload Coverage Report # runs the unit tests and uploads the coverage report from the unit tests to codecov.io
    #   env:
    #     CODECOV_TOKEN: ${{ secrets.CODECOV_TOKEN }}
    #   run: npx nyc --reporter=lcov npm run test && npx codecov -t $CODECOV_TOKEN
